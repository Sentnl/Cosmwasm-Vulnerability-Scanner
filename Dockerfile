FROM python:3.9-slim

LABEL "com.github.actions.name"="CosmWasm Vulnerability Scanner"
LABEL "com.github.actions.description"="Scan rust files for CosmWasm vulnerabilities using the OpenAI API"
LABEL "com.github.actions.icon"="search"
LABEL "com.github.actions.color"="blue"
LABEL "com.github.actions.inputs.openai_api_key.description"="Your OpenAI API key"
LABEL "com.github.actions.inputs.openai_api_key.required"="true"
LABEL "com.github.actions.inputs.engine.description"="The engine identifier for the OpenAI API (e.g., 'text-davinci-002' or 'gpt-4-variant')"
LABEL "com.github.actions.inputs.engine.required"="true"


RUN pip install openai reportlab

COPY scan_cosmwasm.py /scan_cosmwasm.py
ENTRYPOINT ["python", "/scan_cosmwasm.py"]
