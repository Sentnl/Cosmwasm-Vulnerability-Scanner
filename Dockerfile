FROM python:3.9-slim

LABEL "com.github.actions.name"="Solidity Vulnerability Scanner"
LABEL "com.github.actions.description"="Scan Solidity files for vulnerabilities using the OpenAI API"
LABEL "com.github.actions.icon"="search"
LABEL "com.github.actions.color"="blue"
LABEL "com.github.actions.inputs.openai_api_key.description"="Your OpenAI API key"
LABEL "com.github.actions.inputs.openai_api_key.required"="true"

RUN pip install openai

COPY scan_solidity.py /scan_solidity.py
ENTRYPOINT ["python", "/scan_solidity.py"]